<div ng-include="'app/views/admin-nav.tmpl.html'">
</div>
<div class="container">
    <div class="row">

        <div class="col-sm-6">
            <h3>Add Movies</h3>

            <form name="movieForm" ng-submit="moviesVm.addMovie()" novalidate>

                <div class="form-group">
                    <label for="title">Title</label>
                    <input type="text" name="title" id="title" class="form-control" ng-model="moviesVm.newMovie.title"
                           required/>
                    <div ng-messages="movieForm.title.$error" class="error" ng-if="movieForm.title.$dirty">
                        <p ng-message="required">Title cannot be empty</p>

                    </div>
                </div>


                <div class="form-group">
                    <label for="imdbID">IMDB ID</label>
                    <input type="text" name="imdbID" id="imdbID" class="form-control"
                           ng-model="moviesVm.newMovie.imdbID" required/>
                    <div ng-messages="movieForm.imdbID.$error" class="error" ng-if="movieForm.imdbID.$dirty">
                        <p ng-message="required">IMDB ID cannot be empty</p>

                    </div>
                </div>


                <div class="form-group">
                    <label for="year">Year</label>
                    <input type="text" name="year" id="year" class="form-control" ng-model="moviesVm.newMovie.year"
                           required/>
                    <div ng-messages="movieForm.year.$error" class="error" ng-if="movieForm.year.$dirty">
                        <p ng-message="required">Year cannot be empty</p>
                    </div>
                </div>


                <div class="form-group">
                    <label for="rated">Rated</label>
                    <input type="text" name="rated" id="rated" class="form-control" ng-model="moviesVm.newMovie.rated"
                           required/>
                    <div ng-messages="movieForm.rated.$error" class="error" ng-if="movieForm.rated.$dirty">
                        <p ng-message="required">Maturity Rating cannot be empty</p>

                    </div>
                </div>


                <div class="form-group">
                    <label for="released">Released</label>
                    <input type="text" name="released" id="released" class="form-control"
                           ng-model="moviesVm.newMovie.released" required/>
                    <div ng-messages="movieForm.released.$error" class="error" ng-if="movieForm.released.$dirty">
                        <p ng-message="required">Release Year cannot be empty</p>

                    </div>
                </div>


                <div class="form-group">
                    <label for="runtime">Runtime</label>
                    <input type="text" name="runtime" id="runtime" class="form-control"
                           ng-model="moviesVm.newMovie.runtime" required/>
                    <div ng-messages="movieForm.runtime.$error" class="error" ng-if="movieForm.runtime.$dirty">
                        <p ng-message="required">Runtime cannot be empty</p>

                    </div>
                </div>


                <div class="form-group">
                    <label for="genre">Genre</label>
                    <input type="text" name="genre" id="genre" class="form-control" ng-model="moviesVm.newMovie.genre"
                           required/>
                    <div ng-messages="movieForm.genre.$error" class="error" ng-if="movieForm.genre.$dirty">
                        <p ng-message="required">Genre cannot be empty</p>

                    </div>
                </div>


                <div class="form-group">
                    <label for="director">Director</label>
                    <input type="text" name="director" id="director" class="form-control"
                           ng-model="moviesVm.newMovie.director" required/>
                    <div ng-messages="movieForm.director.$error" class="error" ng-if="movieForm.director.$dirty">
                        <p ng-message="required">Director cannot be empty</p>

                    </div>
                </div>


                <div class="form-group">
                    <label for="writer">Writer</label>
                    <input type="text" name="writer" id="writer" class="form-control"
                           ng-model="moviesVm.newMovie.writer" required/>
                    <div ng-messages="movieForm.writer.$error" class="error" ng-if="movieForm.writer.$dirty">
                        <p ng-message="required">Writer cannot be empty</p>

                    </div>
                </div>


                <div class="form-group">
                    <label for="actors">Actors</label>
                    <input type="text" name="actors" id="actors" class="form-control"
                           ng-model="moviesVm.newMovie.actors" required/>
                    <div ng-messages="movieForm.actors.$error" class="error" ng-if="movieForm.actors.$dirty">
                        <p ng-message="required">Actors cannot be empty</p>

                    </div>
                </div>


                <div class="form-group">
                    <label for="plot">Plot</label>
                    <textarea name="plot" id="plot" class="form-control" ng-model="moviesVm.newMovie.plot"
                           required> </textarea>
                    <div ng-messages="movieForm.plot.$error" class="error" ng-if="movieForm.plot.$dirty">
                        <p ng-message="required">Plot cannot be empty</p>

                    </div>
                </div>


                <div class="form-group">
                    <label for="language">Language</label>
                    <input type="text" name="language" id="language" class="form-control"
                           ng-model="moviesVm.newMovie.language" required/>
                    <div ng-messages="movieForm.language.$error" class="error" ng-if="movieForm.language.$dirty">
                        <p ng-message="required">Language cannot be empty</p>

                    </div>
                </div>


                <div class="form-group">
                    <label for="country">Country</label>
                    <input type="text" name="country" id="country" class="form-control"
                           ng-model="moviesVm.newMovie.country" required/>
                    <div ng-messages="movieForm.country.$error" class="error" ng-if="movieForm.country.$dirty">
                        <p ng-message="required">Country cannot be empty</p>

                    </div>
                </div>


                <div class="form-group">
                    <label for="awards">Awards</label>
                    <input type="text" name="awards" id="awards" class="form-control"
                           ng-model="moviesVm.newMovie.awards" required/>
                    <div ng-messages="movieForm.awards.$error" class="error" ng-if="movieForm.awards.$dirty">
                        <p ng-message="required">Awards cannot be empty</p>

                    </div>
                </div>


                <div class="form-group">
                    <label for="poster">Poster</label>
                    <input type="text" name="poster" id="poster" class="form-control"
                           ng-model="moviesVm.newMovie.poster" required/>
                    <div ng-messages="movieForm.poster.$error" class="error" ng-if="movieForm.poster.$dirty">
                        <p ng-message="required">Poster URL cannot be empty</p>

                    </div>
                </div>


                <div class="form-group">
                    <label for="metascore">Metascore</label>
                    <input type="text" name="metascore" id="metascore" class="form-control"
                           ng-model="moviesVm.newMovie.metascore" required/>
                    <div ng-messages="movieForm.metascore.$error" class="error" ng-if="movieForm.metascore.$dirty">
                        <p ng-message="required">Metascore cannot be empty</p>

                    </div>
                </div>

                <div class="form-group">
                    <label for="imdbRating">IMDB Rating</label>
                    <input type="text" name="imdbRating" id="imdbRating" class="form-control"
                           ng-model="moviesVm.newMovie.imdbRating" required/>
                    <div ng-messages="movieForm.imdbRating.$error" class="error" ng-if="movieForm.imdbRating.$dirty">
                        <p ng-message="required">IMDB Rating cannot be empty</p>

                    </div>
                </div>


                <div class="form-group">
                    <label for="imdbVotes">IMDB Votes</label>
                    <input type="text" name="imdbVotes" id="imdbVotes" class="form-control"
                           ng-model="moviesVm.newMovie.imdbVotes" required/>
                    <div ng-messages="movieForm.imdbVotes.$error" class="error" ng-if="movieForm.imdbVotes.$dirty">
                        <p ng-message="required">IMDB Votes cannot be empty</p>

                    </div>
                </div>


                <div class="form-group">
                    <label for="type">Type</label>
                    <input type="text" name="type" id="type" class="form-control" ng-model="moviesVm.newMovie.type"
                           required/>
                    <div ng-messages="movieForm.type.$error" class="error" ng-if="movieForm.type.$dirty">
                        <p ng-message="required">Type cannot be empty</p>

                    </div>
                </div>
                <div class="form-actions">
                    <button type="submit" ng-disabled="movieForm.$invalid" class="btn btn-primary">Add</button>

                </div>
            </form>

        </div>
        <div class="col-sm-6">

            <h3>List of Movies</h3>

            <div>
                <input type="search" ng-model="moviesVm.searchText" placeholder="Search Movies here.."
                       class="form-control">
            </div>

            <table class="table table-striped">
                <thead>
                <tr>
                    <th></th>
                    <th>Title</th>
                    <th>Year</th>
                    <th>Rated</th>
                    <th>Genre</th>
                    <th>IMDB</th>
                </tr>
                </thead>
                <tbody>
                <tr ng-repeat="movie in moviesVm.movies | filter:moviesVm.searchText">
                    <td>
                        <a href="#/movies/{{movie.id}}"><img ng-src="{{movie.poster}}"></a>
                    </td>
                    <td>{{movie.title}}</td>
                    <td>{{movie.year}}</td>
                    <td>{{movie.rated}}</td>
                    <td>{{movie.genre}}</td>
                    <td>{{movie.imdbRating}}</td>
                    <td><a href="#/movies/{{movie.id}}" class="glyphicon glyphicon-pencil"></a></td>
                    <td><i ng-click="moviesVm.deleteMovie($index)" class="glyphicon glyphicon-remove"></i></td>
                </tr>
                </tbody>
            </table>

        </div>
    </div>
</div>